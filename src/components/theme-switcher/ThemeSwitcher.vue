<template>
  <div class="theme-switcher">
    <!-- æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
    <el-button @click="toggleMode" circle>
      {{ themeStore.mode === 'light' ? 'ğŸŒ' : 'ğŸŒ™' }}
    </el-button>

    <!-- é¢œè‰²é€‰æ‹©å™¨ï¼šåˆ‡æ¢åˆ°è‡ªå®šä¹‰æ¨¡å¼ -->
    <el-color-picker v-model="themeStore.primaryColor" @change="handleColorChange" show-alpha />
  </div>
</template>

<script setup lang="ts">
import { useThemeStore } from '@/stores/modules/theme/theme'

const themeStore = useThemeStore()

// åˆ‡æ¢ Light/Dark æ¨¡å¼
function toggleMode() {
  themeStore.setMode(themeStore.mode === 'light' ? 'dark' : 'light')
}

// ç”¨æˆ·é€‰æ‹©é¢œè‰²æ—¶ï¼Œåˆ‡æ¢åˆ° custom æ¨¡å¼
function handleColorChange(color: string) {
  themeStore.setPrimaryColor(color)
}
</script>

<style scoped lang="scss">
.theme-switcher {
  display: flex;
  align-items: center;
  gap: var(--spacing-4);

  .el-button {
    font-size: var(--font-size-lg);
  }
}
</style>
